<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title> Bryan Yan Personal Homepage </title>
        <link type="text/css" rel="stylesheet" href="css/personal.css">
        <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
        <script src="https://use.fontawesome.com/6d3ea401a0.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.simpleWeather/3.1.0/jquery.simpleWeather.min.js"></script>
        <script>
        $(function() {

            if (typeof(Storage) !== "undefined") {
              console.log(localStorage, 'lol whats the storage')
                if (localStorage.todo) {
                    var todoArr = ['ay carumba', 'testing', 'fix this later thx'];
                } else {
                    var todoArr = ['ay carumba'];
                    localStorage.setItem("todo", JSON.stringify(todoArr));
                }
            }

            // $( ".add" ).click(function(event) {
            //     var items = Array( "Say hi to everyone in the neighborhood.", "Go join the neighborhood clean up", "Spend the half the day cleaning my room", "Purchase pro on CodePen.io" );
            //     var item = items[Math.floor(Math.random()*items.length)];
            //     $("ul").add( "<li><a href='#'><div class='fa fa-check'></div></a> " + item + "</li>" ).fadeIn().appendTo("ul");
            // });

            for (var i = 0; i < todoArr.length; i++) {
              $('#listItems').add("<li><a href='#'><div class='fa fa-check'></div></a> " + todoArr[i] + "</li>" )
                             .fadeIn()
                             .appendTo("ul");
            }

            /* Close item when check mark clicked */
            $( "ul > li > a" ).click(function() {
              $(this).parent( "li" ).slideUp(200);
            });

            /* Fremont: 2407405 */
            $.simpleWeather({
              woeid: '2407405', 
              location: '',
              unit: 'f',
              success: function(weather) {
                htmlFMT = '<h2>'+weather.temp+'&deg;'+weather.units.temp+'</h2>';
                htmlFMT += '<ul><li>'+weather.city+', '+weather.region+'</li>';
                htmlFMT += '<li class="currently">'+weather.currently+'</li>';
                htmlFMT += '<ul>'
                for(var i = 0; i < 5; i++) {
                  htmlFMT += '<li class="fiveDay">'+weather.forecast[i].day+': '+weather.forecast[i].high+'</li>';
                }
                htmlFMT += '</ul>'
                htmlFMT += '<img src=' + weather.thumbnail + '>'
                $("#fmt").html(htmlFMT);
              },
              error: function(error) {
                $("#fmt").html('<p>'+error+'</p>');
              }
            });

            /* San Francisco: 2487956 */
            $.simpleWeather({
              woeid: '2487956', 
              location: '',
              unit: 'f',
              success: function(weather) {
                htmlSFO = '<h2>'+weather.temp+'&deg;'+weather.units.temp+'</h2>';
                htmlSFO += '<ul><li>'+weather.city+', '+weather.region+'</li>';
                htmlSFO += '<li class="currently">'+weather.currently+'</li>';
                htmlSFO += '<ul>'
                for(var i = 0; i < 5; i++) {
                  htmlSFO += '<li class="fiveDay">'+weather.forecast[i].day+': '+weather.forecast[i].high+'</li>';
                }
                htmlSFO += '</ul>'
            
                $("#sfo").html(htmlSFO);
              },
              error: function(error) {
                $("#sfo").html('<p>'+error+'</p>');
              }
            });

            /* Pittsburgh: 2473224 */
            $.simpleWeather({
              woeid: '2473224', 
              location: '',
              unit: 'f',
              success: function(weather) {
                htmlPGH = '<h2>'+weather.temp+'&deg;'+weather.units.temp+'</h2>';
                htmlPGH += '<ul><li>'+weather.city+', '+weather.region+'</li>';
                htmlPGH += '<li class="currently">'+weather.currently+'</li>';
                htmlPGH += '<ul>'
                for(var i = 0; i < 5; i++) {
                  htmlPGH += '<li class="fiveDay">'+weather.forecast[i].day+': '+weather.forecast[i].high+'</li>';
                }
                htmlPGH += '</ul>'
            
                $("#pgh").html(htmlPGH);
              },
              error: function(error) {
                $("#pgh").html('<p>'+error+'</p>');
              }
            });

            var monthNames = [ "January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December" ]; 

            var dayNames= ["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]

            // Create an object newDate()
            var newDate = new Date();
            // Retrieve the current date from the Date object
            newDate.setDate(newDate.getDate());
            // At the output of the day, date, month and year    
            $('#Date').html(dayNames[newDate.getDay()] + " " + newDate.getDate() + ' ' + monthNames[newDate.getMonth()] + ' ' + newDate.getFullYear());

            var minutes = newDate.getMinutes();
            $(".min").html(( minutes < 10 ? "0" : "" ) + minutes);
            var hours = newDate.getHours();
            $(".hours").html(( hours < 10 ? "0" : "" ) + hours);

        });
        </script>
    </head>
    <body>
        <script src="https://www.reddit.com/r/frugalmalefashion.embed?limit=27" type="text/javascript"></script>
        <div class="weather">
          <div class="city" id="fmt"> </div>
          <div class="city" id="sfo"> </div>
          <div class="city" id="pgh"> </div>
        </div>
        <div class="clock">
          <div id="Date"></div>
          <div>
              <div class="hours"></div>
              <div class="point">:</div>
              <div class="min"></div>
          </div>
        </div>
        <div class="list">
            <h1> TO DO
                <a class="add" href="#">
                    <div class="fa fa-plus"></div>
                </a>
            </h1>
          <ul id="listItems">
            <li>
              <a href="#">
                <div class="fa fa-check"></div>
              </a>
              Bake a Cake for someone's birthday
            </li>
          </ul>
        </div>

    </body>
</html>