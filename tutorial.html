<!DOCTYPE html>
<html lang = "en">
	<head>
		<meta charset = "utf-8">
		<meta http-equiv = "X-UA-Compatible" content = "IE=edge">
		<meta name= "viewport" content = "width=device-width, initial-scale=1">

		<title> Bryan Yan </title>

		<!--Favicon-->
		<link rel = "shortcut icon" href = "icons/lambda.png">

		<!--Import stylesheets-->
		<link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/>
		<link type="text/css" rel="stylesheet" href="css/landing.css">
		<link type="text/css" rel="stylesheet" href="css/styles.css">

		<!--Fonts and icons-->
		<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Lato:100,300,400">
		<link rel="stylesheet" href='http://fonts.googleapis.com/css?family=Lato:700'>
		<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

	    <!--Javascript imports -->
	    <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"> </script>
	    <script type="text/javascript" src="js/materialize.js"> </script>
	    <script src="https://d3js.org/d3.v3.min.js" charset="utf-8"></script>
	    <script type="text/javascript" src="js/scripts.js"> </script>
	    <script type="text/javascript">
	    	$(document).ready(function(){
				InitExample3();
	    	});
	    </script>

	</head>

	<body>

		<div class="container">

			<div class="home">
				<a href="aboutme.html" id="back"> Home </a>
			</div>

			<div class="heads">
				<h1 style="margin-bottom: 0px"> D3.js Mini-Tutorial </h1>
				<h1 style="margin-top: 0px"> Creating a Simple Piechart </h1>
				<h4 style="color: gray"> Bryan Yan </h4>
			</div>

			<div class="content" style="font-size: 20px;">
				<br> 
				D3.js is a beautiful Javascript library to produce dynamic, interactive data visualizations in web browsers. You can read more about D3 <a href="techblog.html"> here. </a> This post is a tutorial to build a very siple piechart. Of course, a barchart is more practical in many cases but the creator of D3 Mike Bostock already made a bar chart tutorial <a href="https://bost.ocks.org/mike/bar/"> here, </a> so I'm writing a tutorial on how to make a piechart. I'm going to assume you have some beginner knowledge about HTML and Javascript. If you don't, please read up on those now!
				<br> <br>
				<div id="example">
					<h5 style="color: gray"> What Are We Making? </h5>
					This is what we'll end up with after this tutorial. As you can see, it's super simple. Hover over the pie slices!
					<div id="product">
					</div>
				</div>

				<div class="step1">
					<h5 style="color: gray"> The HTML </h5>
					Inspecting the HTML of this graph, it actually looks fairly simple.

					<img src="static/htmlPie.png" id="htmlPieCode"> </img>

					If it weren't for the path elements with complicated d attributes, you could definitely just hardcode this HTML.
					D3 does all the d attribute value calculations for you, and nn a practical sense when working with larger non dummy datasets, writing this by hand seems less and less viable.

				</div>

				<br>

				<div class="step2">
					<h5 style="color: gray"> Step 1: Setting up the Graph </h5>
					Let's start by defining some dimensions and some data for our piechart. <br> 

					<img src="static/dimData.png" id="dimDataCode"> </img> <br>

					This is fairly self explanatory. The width and height of our graph are both 400px, and since it's a circle, we define a radius. 
					The data is a simple array of objects with a color and percentage property. You'll see how we access and use this data later on.

				</div>

				<br>

				<div class="step3">
					<h5 style="color: gray"> Step 2: Creating the Graph </h5>

					<img src="static/step2.png" id="colorCode"> </img> <br>

					The variable color is just a color scale provided by D3. You can read about ordinal scales <a href="https://github.com/mbostock/d3/wiki/Ordinal-Scales"> here. </a> <br>
					The arc variable is how we define the radius using D3's <a href="https://github.com/mbostock/d3/wiki/SVG-Shapes#arc"> svg.arc() </a> function as well as the outerRadius() method using the radius we established earlier. <br>
					For the start and end angles of the segments, we use D3's <a href="https://github.com/mbostock/d3/wiki/Pie-Layout"> layout.pie() </a> function. We define how to get the right properties from the data using the value method and percentage property. <br>
					We also create the svg and g elements that create the whole piechart. Using D3's <a href="https://github.com/mbostock/d3/wiki/Selections"> select method </a> we grab the DOM element with id product.
					We then add an svg element to the product div we've just selected and due to <a href="http://alignedleft.com/tutorials/d3/chaining-methods"> method chaining, </a> we now have a reference to the svg element. We set its width and height to be the width and height that we defined before, and then finally append a g element.
				</div>

				<br>

				<div class="finalstep">
					<h5 style="color: gray"> Step 3: Filling the Graph: Final Steps </h5>

					<img src="static/step3.png" id="finalStep" style="width: 599px;"> </img> <br>

					First, we select all path elements inside our g element. Right now, there are none but we will create them. The .data() method is how we pass in our predefined data and how we associate every slice of the pie (path elements) with the appropriate data. We pass this into our pie function above which grabs the values. The <a href="https://github.com/mbostock/d3/wiki/Selections#enter"> .enter() </a> method creates placeholders for every value in our data, and then we use .append() to replace them with the correct path elements. We define the d attribute using the arc function defined above and then using our color scale, we fill each slice of the pie. When we hover (or mouseover) the elements, a tooltip will pop up and when we remove our mouse the tooltip will disappear.
				</div>

				<br> 

				<div class="finish">
					<h5 style="color: gray"> Where Do I Go From Here? </h5>
					D3 is a very vast library, and although we created a pie chart here there's a lot more that D3 can do. In the real world, you'll probably have to load and parse through some data and also run a lot more algorithms for meaningful analysis and display. This tutorial really only went over the barebones of D3 and just glossed over what it can do. <a href="https://raw.githubusercontent.com/bryanyan/bryanyan.github.io/master/js/example.js"> This is the code to generate the pie chart we created above. </a>
					<div class="resources">
						Luckily, there are plenty of resources to learn D3. <br> <br>
						Scott Murrayâ€™s <a href="http://chimera.labs.oreilly.com/books/1230000000345/index.html"> Interactive Data Visualization for the Web </a>
						<br>
						Scott Murray's <a href="http://alignedleft.com/tutorials/d3/"> D3 Tutorials </a>
						<br>
						DashingD3 <a href="https://www.dashingd3js.com/table-of-contents"> tutorial </a>
						<br>
					</div>
					<br> 
					The documentation for D3 is also very well written. Stackoverflow is also your best friend. D3 has this thing called blocks, where other users in the community post demos/examples with all the code required for the display. <br> <br>

					I hope this tutorial helped you learn a bit about how to use D3 and you're now on your way to creating some amazing graphics!

				</div>

			</div>

		</div>


	</body>



</html>